<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>hpc futures - part one | Bryan Lawrence</title>
  <meta name="description" content="Anyone reading my twitter feed will know that I’ve been going to strategy meetings a lot lately.  We’ve been talking a lot about the impending problems with computing as new architectures become mo...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://www.bnlawrence.net//environment/2010/08/hpc_futures_-_part_one/">
  <link rel="alternate" type="application/rss+xml" title="Bryan Lawrence" href="https://www.bnlawrence.net//feed.xml" />
<link rel='stylesheet' id='open-sans-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&#038;subset=latin%2Clatin-ext&#038;ver=4.2.4' type='text/css' media='all' />
<link href='http://fonts.googleapis.com/css?family=Titillium+Web:600italic,600,400,400italic' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://www.osu.edu/assets/fonts/webfonts.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">






<!-- Twitter cards -->
<meta name="twitter:site"    content="@bnlawrence">
<meta name="twitter:title"   content="hpc futures - part one">


<meta name="twitter:description" content="Anyone reading my twitter feed will know that I’ve been going to strategy meetings a lot lately.  We’ve been talking a lot about the impending problems with computing as new architectures become mo...">



<meta name="twitter:card"  content="summary">
<meta name="twitter:image" content="">

<!-- end of Twitter cards -->

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Bryan Lawrence</a>


    <nav class="site-nav">

      <a href="#" class="menu-icon menu.open">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

    <div class="trigger"><h1>Main Navigation</h1>

 <ul class="menu">

    
    
     <li><a href="/" class="page-link">Home</a>
    
    </li>
    
    
     <li><a href="/about/" class="page-link">About</a>
    
    </li>
    
    
    <li><a href="/academic/" class="page-link">Academic</a>
    <ul class="sub-menu">
    
    <li><a href="/academic/">Academic</a></li>
    
    <li><a href="/projects/">Projects</a></li>
    
    <li><a href="/publications/">Publications</a></li>
    
    <li><a href="/cv/">Short CV</a></li>
    
    <li><a href="/research/">Research</a></li>
    
    <li><a href="/talks/">Talks</a></li>
    
    </ul>
    
    </li>
    
    
     <li><a href="/blog/" class="page-link">Blog</a>
    
    </li>
    
    
     <li><a href="/search/" class="page-link">Find</a>
    
    </li>
    
    </ul>


     </div>
    </nav>
</div>
<div class="wrapper">
   <p> Intermittent ramblings on climate, computing, or data science, what I'm up to, and what I'm thinking. Mostly professional, sometimes not.
 </p>
</div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

 <header class="post-header">
  <h1 class="post-title">hpc futures - part one</h1>
  <p class="post-meta">Posted on August 2, 2010
  
  
      in
      
      <a href="/categories/#environment" title="environment">environment</a>&nbsp;
      
  
  
  
  (tagged: <a href="/tags/climate/" rel="tag">climate</a>, <a href="/tags/modelling_futures/" rel="tag">modelling_futures</a>, <a href="/tags/resolution/" rel="tag">resolution</a>).
  
  <br/>
  
  
  Previous Post: <a class="prev" href="/computing/2010/06/janet_futures/">&laquo;Janet Futures&raquo;</a>
  
  
  (in <a href="/categories/#computing" title="computing">computing</a>;
  in <a href="/categories/#environment" title="environment">environment</a> previous is <a href="/environment/2010/06/two_sides_of_the_same_coin/" class="prev">&laquo;two sides of the same coin&raquo;</a>)
  
  .<br/>
   Next Post <a class="next" href="/environment/2010/09/surface_temperature_workshop/">&laquo;Surface Temperature Workshop&raquo;</a>
  
  .
  </p>
</header>


  <article class="post-content">
    <p>Anyone reading <a href="http://www.twitter.com/bnlawrence">my twitter feed</a> will know that I’ve been going to strategy meetings a lot lately.  We’ve been talking a lot about the impending problems with computing as new architectures become more complex. By way of organising my thinking <a href="/environment/2010/03/computing_capacity_capability_climate_simulations_and_impacts/">about increased resolution</a>, and in some ways, following up on an even older <a href="/environment/2005/01/Model_Resolution/">discourse</a>, I’ve spent a bit of time thinking about computing capacity. Hence this.</p>

<p>Currently, European climate computing exploits a range of computing environments. It is common to classify computing environments using a pyramid structure like this:</p>

<p><img src="/assets/images/2010-08-02-computing-tiers.png" alt="Image: computing-tiers.png " /></p>

<p>Here we see that Tier0 are the fastest supercomputers available, typically in or close to the top 10 in the world (currently, in Europe, that would mean a <a href="http://www.prace-project.eu/">PRACE</a> supercomputer, although sometimes <a href="http://www.ecmwf.int">ECMWF</a> squeaks into or close to that category, when they have a new computer).</p>

<p>Tier1 computers are typically the fastest computers available nationally for academic use (in the UK that would be Hector). ECMWF is also tier1.  Tier2 computers will include institutional supercomputers and the sorts of computers deployed at the <a href="http://www.metoffice.gov.uk/climatechange/science/hadleycentre/">Met Office Hadley Centre</a> and <a href="http://www.dkrz.de">DKRZ</a> (although occasionally, when new, they might rank as Tier1).</p>

<p>Large clusters are typically available in institutions too, and often access to these can be achieved via Grid tools. Volunteer grids (access to the personal computers of volunteers via services such as <a href="http://boinc.berkeley.edu/">BOINC</a>) are also available. The total amount of computing power available in volunteer grids (measured in <a href="http://en.wikipedia.org/wiki/FLOPS">FLOPS</a>) exceeds that of the Tier0 supercomputers, but I’ve ranked it as Tier2 here because there are major limitations in what can be done with data flow with such computing - but even so, projects such as <a href="http://climateprediction.net/">climateprediction.net</a> have shown remarkable ability to exploit that environment.</p>

<p>Tier3 computing is what is typically available to a workgroup, which might include local condor pools.</p>

<p>To try and get a grip on trends on what climate computing will be available in in the next decade or so, I’ve been reading <a href="http://www.scidacreview.org/1001/html/hardware.html">this useful SCIDAC review</a> (if you’re at all interested in HPC computing futures, it’s compulsory reading). Following their figure 2, I produced this one:</p>

<p><img src="/assets/images/2010-08-02-climate-moores.png" alt="climate-moores.png" /></p>

<p>I’ve plotted the theoretical peak FLOPS for major climate computing sites plus ECMWF (not really a climate computer) and the number one computer (in the top500, for comparison) as a function of time. I’ve also plotted the actual throughput of BOINC for June/July 2010. We’ll come back to BOINC. I’ve added three lines: the best fit to the number one computer (purple), the best fit to the leading climate computer (red), and the best fit to the bottom of the climate computing systems (green). Hereafter I’ll imagine the latter are typical of tier1 and tier 2. (I suspect the green line is pretty close to number 500 on the top500 …)</p>

<p>There are some interesting conclusions one can draw:</p>
<ol>
  <li>HPC follows a nice Moore’s law trajectory and has continued to do so even now that clock speeds are no longer increasing. Of course that’s because of increased parallelisation (of which more later).</li>
  <li>To first order, the average difference between the number one computer, and the best available for climate computing is a difference in power of about 10, and there is a difference in power of about a factor of 10 back to the tier2 computers.</li>
  <li>However, currently it’s important to recognise that the climate share of Tier1 machines is often limited, so in practice, we can think of the horsepower currently available to climate computing (in Europe) as generally being of tier2 class.
    <ul>
      <li>That means, right now, if the money were there, in theory we could get a 100-fold increase in HPC for climate computing by obtaining a tier0 climate computer - however, there is one big gotcha: few (if any) climate codes would scale well on current tier0 architectures … but see below on why that’s not necessarily a problem.</li>
      <li>Even if we had an ECMWF equivalent for climate, it’d be unlikely to exceed the capability of ECMWF, so we could expect to be sitting on tier1 capacity (the same argument applies to climate access to PRACE, 10% of a tier0 will be roughly a tier1 machine).</li>
    </ul>
  </li>
  <li>It takes roughly three years for tier0 capacity to become available at tier1 and another three to get to tier2.</li>
  <li>BOINC doesn’t actually provide much increase over the capacity of the best available HPC systems (although clearly it’s an important source of computing cycles).</li>
  <li>We can expect the first exascale systems before 2020, and they will be available for tier1 in roughly 2022, and tier2 in 2025-2028 (the line for tier2 seems to be falling away, but I don’t think we should read too much into that, the problem is that the MetO and DKRZ weren’t always in the top500, so the line at the bottom is poorly sampled).</li>
  <li>Similarly, petascale systems will be (in principle) available for climate from next year, but more practically from around 2014-2015.</li>
</ol>

<p>With those gross generalisations in mind (and hoping the financial situation doesn’t impede capacity provision), let’s return to how increases in computer power can be used by the climate community. Folks have been showing a variant of the following figure (from Tim Palmer at ECMWF) for a long time:</p>

<p><img src="/assets/images/2010-08-02-palmer-hpc-expansion.png" alt="palmer-hpc-expansion.png " /></p>

<p>The bottom line is that extra computing can be used in a <a href="/environment/2005/01/Model_Resolution/">variety of ways</a>:</p>

<ol>
  <li>Increased Resolution - horizontally and vertically</li>
  <li>Increased Model Complexity - more processes and sub-models</li>
  <li>
    <p>More Ensemble Members</p>
  </li>
  <li>Better initialisation (data assimilation)</li>
  <li>
    <p>Longer duration runs, and</p>
  </li>
  <li><em>More Experiments</em></li>
</ol>

<p>… and all of them are important to different parts of the spectrum of questions we need to answer, for example:</p>

<ul>
  <li>Increased resolution and/or complexity will address issues of model uncertainty and applicability to impacts and adaptation</li>
  <li>More ensemble members gives a better sampling of the future and a better handle on uncertainty</li>
  <li>More experiments address all issues, but for example, might allow more scenarios to be explored, and better model validation.</li>
  <li>longer duration runs allow us both to predict further into the future, but also do much longer paleo runs. Paleo runs are an important part of validating our models.</li>
  <li>Better initialisation should allow us to predict the next few decades with less uncertainty.</li>
</ul>

<p>(For discussions on uncertainty in models, I highly recommend <a href="http://ncas-climate.nerc.ac.uk/research/uncertainty/">these web pages</a>.)</p>

<p>Not all of these options are equal in our ability to exploit new supercomputing. As hinted above, even now, climate codes can’t necessarily exploit the new computer architectures to either run faster (by using more processors) or go to higher resolution (using more processors), since they don’t necessarily scale well. This has actually been a problem for a while, but it’s been sort of hidden since of late the science drivers have been to more complexity and more ensemble members, and those avenues have tended to better exploit more processors. However, with an increased interest in adaptation and the desirability to do longer runs, comes a necessity to make our models scale.  (Really long duration runs at high complexity are going to be a problem, we can’t parallelise in time, yet …)</p>

<p>Of course we can always choose to back-off and loose complexity or resolution to make other kinds of problems doable: for example, really long paleo runs are generally done with lower resolution models with more parameterised physics (but sometimes more complex carbon cycles). Similarly, by staying at lower resolution, climateprediction.net has taken the philosophy that more experiments and more ensemble members can be exploited by using volunteer grids. All of these approaches are valid and useful.</p>

<p>Looking forward however, we do have a problem. If we want to be able to choose which of these avenues to pursue on science grounds rather than computing capability grounds, we need to understand what that computing capability is going to look like, and plan accordingly. More of that anon, when as you might expect, a bit more discussion of data implications will appear.</p>

  </article>

  


</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">
    <hr/>
<!--     <h2 class="footer-heading">Bryan Lawrence</h2> -->

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><strong>Bryan Lawrence</strong></li>
		  <li>Professional Meeting Attendee</li>
          <li><a href="mailto:b.n.lawrence@reading.ac.uk">b.n.lawrence@reading.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">

          
          <li>
              <a href="https://github.com/bnlawrence">
              <i class="fa fa-github" style="color:gray"></i> bnlawrence
             </a>
          </li>
          

          
          <li>
             <a href="https://twitter.com/bnlawrence">
             <i class="fa fa-twitter" style="color:gray"></i> bnlawrence
             </a>
          </li>
          
          
          <li>
             <img style="max-height:1em" src="/assets/mastodon-icon.svg"/>&nbsp;
             <a rel="me" href="https://mastodon.nz/@bnlawrence">@bnlawrence</a>
          </li>
          

        </ul>
      </div>

      <div class="footer-col  footer-col-3">
         <p class="text">
	     This is a personal site. Caveat Lector. Nothing written here reflects an official opinion of my employer or any funding agency.  Laboris locatores analogum obsecro respice auferetur. (The benefit of my daughter's education, not mine.)

      </div>
    </div>
    <!--
    <hr/>
    <p class="text"> This is a personal site. Caveat Lector. Nothing written here reflects an official opinion of my employer or any funding agency.  Laboris locatores analogum obsecro respice auferetur. (The benefit of my daughter's education, not mine.)
 </p>
    -->

  </div>

</footer>

    
  </body>


</html>
