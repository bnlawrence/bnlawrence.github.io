<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>to extend or not to extend ... | Bryan Lawrence</title>
  <meta name="description" content="A few months ago I wrote a few words about practicalities with ISO1939. The key reason for using ISO19139 is that it is a standard for metadata interoperability. A key a priori assumption is that o...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/computing/2006/08/to_extend_or_not_to_extend_">
  <link rel="alternate" type="application/rss+xml" title="Bryan Lawrence" href="http://localhost:4000/feed.xml" />
<link rel='stylesheet' id='open-sans-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&#038;subset=latin%2Clatin-ext&#038;ver=4.2.4' type='text/css' media='all' />
<link href='http://fonts.googleapis.com/css?family=Titillium+Web:600italic,600,400,400italic' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://www.osu.edu/assets/fonts/webfonts.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<link rel="author" href="https://plus.google.com/u/0/110288225974212014913"/>
<meta name="google-site-verification" content="nfd8hkZSc3GmIivrLCudAdTq5m1kI0Ao7P1UyIt9z5Q" />



<!-- Twitter cards -->
<meta name="twitter:site"    content="@bnlawrence">
<meta name="twitter:title"   content="to extend or not to extend ...">


<meta name="twitter:description" content="A few months ago I wrote a few words about practicalities with ISO1939. The key reason for using ISO19139 is that it is a standard for metadata interoperability. A key a priori assumption is that o...">



<meta name="twitter:card"  content="summary">
<meta name="twitter:image" content="">

<!-- end of Twitter cards -->

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Bryan Lawrence</a>


    <nav class="site-nav">

      <a href="#" class="menu-icon menu.open">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

    <div class="trigger"><h1>Main Navigation</h1>

 <ul class="menu">

    
    
     <li><a href="/" class="page-link">Home</a>
    
    </li>
    
    
     <li><a href="/about/" class="page-link">About</a>
    
    </li>
    
    
    <li><a href="/academic/" class="page-link">Academic</a>
    <ul class="sub-menu">
    
    <li><a href="/academic/">Academic</a></li>
    
    <li><a href="/projects/">Projects</a></li>
    
    <li><a href="/publications/">Publications</a></li>
    
    <li><a href="/cv/">Short CV</a></li>
    
    <li><a href="/research/">Research</a></li>
    
    <li><a href="/talks/">Talks</a></li>
    
    </ul>
    
    </li>
    
    
     <li><a href="/blog/" class="page-link">Blog</a>
    
    </li>
    
    
     <li><a href="/search/" class="page-link">Find</a>
    
    </li>
    
    </ul>


     </div>
    </nav>
</div>
<div class="wrapper">
   <p> Intermittent rambings on climate, computing, or data science, what I'm up to, and what I'm thinking. Mostly professional, sometimes not.
 </p>
</div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

 <header class="post-header">
  <h1 class="post-title">to extend or not to extend ...</h1>
  <p class="post-meta">Posted on August 15, 2006
  
  
      in
      
      <a href="/categories/#computing" title="computing">computing</a>&nbsp;
      
  
  
  
  (tagged: <a href="/tags/iso19115/" rel="tag">iso19115</a>, <a href="/tags/metadata/" rel="tag">metadata</a>, <a href="/tags/ndg/" rel="tag">ndg</a>).
  
  <br/>
  
  
  Previous Post: <a class="prev" href="/computing/2006/08/on_access_control/">&laquo;On Access Control&raquo;</a>
  
  .<br/>
   Next Post <a class="next" href="/environment/2006/09/diesel_v_petrol/">&laquo;Diesel v Petrol&raquo;</a>
  
  
  (in <a href="/categories/#environment" title="environment">environment</a>;
  in <a href="/categories/#computing" title="computing">computing</a> next is <a href="/computing/2006/09/more_on_citation/" class="next">&laquo;More on citation - part one, ashoe&raquo;</a>)
  
  .
  </p>
</header>


  <article class="post-content">
    <p><a href="/computing/2006/03/some_practicalities_with_iso19139/">A few months ago</a> I wrote a few words about practicalities with ISO1939. The key reason for using ISO19139 is that it is a standard for metadata <em>interoperability</em>. A key a priori assumption is that one has a <em>community who have agreed to interoperate</em> … because in practice to interoperate will require a <a href="/computing/2005/08/metadata_xml_and_dejavu/">profile</a> of ISO19139 which defines <em>for a community</em> what <em>interoperability</em> means to <em>them</em>.</p>

<p>Well, that’s clear then. Communities will build profiles. This is a good thing, because it means ISO19139 will have direct value to those communities, providing an infrastructure where their concepts can either be specialised by limiting broad concepts in the parent schema or by extending concepts in the parent schema to add new attributes etc or both. Two communities doing this for real that I care about are the IOC and the WMO.</p>

<p>The problem with profiles though, is that profiles probably wont be easily consumed by <em>other</em> communities (i.e. will the WMO be able to consume the IOC instances?), but there may be things that one can do when building a profile that will help consumability (I’m trying desperately hard to avoid food puns …) … and I think it’s going to be <strong>really</strong> important that the designers of these profiles think about this, because nearly all the interesting problems we have to solve in the world are on the boundaries between communities.</p>

<p>These boundaries are particularly important for catalogue builders, because catalogues are for finding things that you don’t know a lot about already, for most of us, by definition those are things that are the furthest from our core experiences (and so are most likely to be the least likely for us to be able to build into our core profiles).</p>

<p>So, building for interoperability <em>outside</em> our communities should be just as important as building for interoperability <em>within</em> our communities (modulo the reality that the core communities always pay for these things).</p>

<p>Well, philosophy aside, what’s on the table?</p>

<p><a href="/computing/2006/03/some_practicalities_with_iso19139/">Last time</a> I made the point that if you extend a schema, for interoperability it will help if you can export your records in vanilla ISO19139 as well as your custom-ISO19139.</p>

<p>John Hockaday was a bit more explicit in an <a href="http://spatialnews.geocomm.com/community/lists/viewmessage.phtml?id=45393">email</a> to the <a href="http://spatialnews.geocomm.com/community/lists/monthlist.phtml?list=12">metadata mailing list</a>. If the header to an ISO19139 profile instance includes the link to the parent profile schema (as it must), then:</p>
<blockquote>If the profiles are extensions, i.e. add extra elements to the ISO19115 metadata standard, then they will have to be translated using XSL to the ISO19139 format for other people around the world to use. The translation will remove the extra elements because ISO19139 will not recognise them as valid elements.
</blockquote>
<blockquote> If profiles are restrictive, i.e., don't allow some ISO19115 metadata records, then they should also validate against the ISO19139 XSDs without translation using an XSL except that the header will have to be changed to point to the ISO19139 namespaces or the parser is told to use the ISO19139 XSDs.
</blockquote>

<p>He goes on to say (as I did) that</p>
<blockquote>I expect the common format for exchange of metadata is the ISO19139 format. All profiles should provide and XSL for translation of their profile XML to the ISO19139 XML format. This will allow exchange of any metadata to be easily achieved.
</blockquote>

<p>BUT</p>

<p>I wonder whether we were right. I think we all understand that metadata translation is (generally a <a href="/computing/2006/01/merging_metadata_always_lowers_quality/">lossy</a>) activity.</p>

<p>What do we want our interoperable records to achieve? Generally, I think we want <strong>discovery</strong> between communities. So the most important thing to do is <strong>find</strong> information.</p>

<p>In practice, we can <strong>exchange</strong> any derivative of the ISO19139 profiles using OAI and store them in xml databases - we don’t need necessarily to parse them into a relational schema or into “our” xml schema. The question should really be <em>How do I consume instances from someone elses schema?</em>. As I’ve said before, we should ignore what we don’t understand, and look for what we do! That means my discovery tool may want to look for familiar tags, use those, but when the discovery client wants to consume the record (perhaps having navigated using the tools I’ve provided), they want the <strong>original</strong> record (without any losses introduced by translation).</p>

<p>So, what we need to do in practice is <em>index</em> using common tags, so ideally the developers of profiles and standards should extend/contract all they like, but if possible to do this by declaring new (specialised) elements in new namespaces, but with the same tag names!”</p>

<p>But the advice to the IOC includes this:</p>
<blockquote>Some of the metadata packages have also restrictions. ?EG.
dataQuality. ?We would have expected that there should have been a
specialisation of the DQ_DataQuality class called MP_DataQuality that
shows these constraints.
</blockquote>

<p>And every time one does this, it results in an invisible tag that wont work in a portable environment (so we will ignore it in code). What this says to me is that specialisation by restriction <em>and name change</em> leads to a lack of interoperability … exactly where it should be easiest … after all, the instance document should conform exactly to the parent schema too… and I had thought we would only have to change the header to make our indexes and validations work … (as John suggested). But instead this advice results in an instance that <strong>does</strong> need to be transformed by XSLT.  It would be nice to avoid that where possible. Wouldn’t it be better in this situation to NOT change the tag name in the new schema? Could it be that the IOC has got bad advice, or is there some subtlety in the rules for restriction that I (and presumably John) haven’t spotted?</p>

<p>I need to get back into this for the <a href="http://proj.badc.rl.ac.uk/ndg/wiki/NumSim">NumSim</a> project and for some collaborations for our WMO partners …</p>

<h4 id="trackbacks-2">trackbacks (2)</h4>

<p><em><a href="/computing/2006/10/on_substitution_groups_and_iso19139/">on_substitution_groups_and_iso19139</a> (from “Bryan’s Blog” on (on Thursday 19 October, 2006)</em>)</p>

<p>I have bleated already about the difficulties of using ISO19139 with restrictions which introduce new tag names …</p>

<p><em><a href="/computing/2006/11/a_proposal_for_profiling_iso19139/">A proposal for profiling ISO19139</a> (from “Bryan’s Blog” on (on Wednesday 06 December, 2006)</em>)</p>

<p>Over this week a group of us (Rob Atkinson, Simon Cox, Clemens Portele and myself) have been reviewing the reality of problems with profiling ISO19139 and conforming with appendix F of ISO19115. The following is my summary of what I think we agreed.</p>

<h4 id="comments-4">comments (4)</h4>

<p><em>Bryan (on Friday 18 August, 2006)</em></p>

<p>… actually, I know we’re only officially allowed specialisation by extension … but if our restriction is simply to force a particular attribute which has a 0..1 multiplicity to be 0 … I think that should be allowed.</p>

<p>I had hoped to work through a proper example of this for another blog entry before going on leave, but I’ve run out of time …</p>

<p><em>Marcel de Rink (on Monday 23 October, 2006)</em></p>

<p>Good point to address this issue. I strongly agree with you on the issue that interoperability should be guaranteed between the different metadata profiles (and other metadatastandards). I understand that you will develop a new xsd-schema for new profiles? I do also have questions about ISO 19139, but I’m thinking about using the original ISO 19139 xsd-schemas and use additional OCL constraints (in Schematron) to validate. Because the original xsd-schemas from ISO will be used, the interoperability and semantics will remain the same. Additional mandatory use of metadata elements, additional domainvalues, ect will be validated by the community itself by use of OCL constraints (or e.g. in a MD Editor). When metadata elements will be used, which aren’t mentioned in ISO 19139 or related ISO 191xx standards (I can’t think of any) a new metadata element or even a class can be added to the ISO 19139 model (as described in the standard). This class will indead have it’s own namespace and can only be used for discovery purposes in it’s community. I don’t think creating a new xsd-schema for every profile is a good solution, because then lots of stylesheets have to be developed and maintained to ensure interoperability.</p>

<p><em>Bryan (on Monday 23 October, 2006)</em></p>

<p>I think one is supposed to develop a new schema for each profile, and that’s part of the problem … for a restrictive extension, I simply can’t see the logic in requiring a new schema, and like you think it’s a bad way to go.</p>

<p>I like your idea of using external constraints to impose your restrictions, and leaving the resulting instance documents conforming to vanilla ISO19139!</p>

<p><em><a href="http://www.csiro.au/csiro/content/standard/ps205,,.html">Simon Cox</a> (on Wednesday 08 November, 2006)</em></p>

<p>Concerning profile-by-extension: 
the ISO 19139 editors anticipated the issue in Annex A.3 in the list item 4). They provide a hook to support conversion back to un-extended 19139. The “@gco:isoType” attribute should be added to any class that extends an ISO class, and in an instance its value is set to the name of the parent class. This supports a simple algorithm to rename or throw away all elements from new namespaces.</p>

<p>Concerning profile-by-restriction: Many plausible restrictions can be implemented pragmatically using clone-and-modify of the ISO 19139 schemas. However, ISO 19139 Annex A.4 requires that “a tool other than an XML Schema validator” be used to test conformance with a profile. OTOH this kinda supports the notion of applying restrictions using an orthogonal constraint layer (e.g. Schematron). OTOH this could be twisted slightly as “a tool other than an XML Schema validator … configured with the original schemas” i.e. use a XML Schema validator configured with a cloned-and-modified schema. I checked with Dave Danko and he approved of the latter strategy.</p>

  </article>

  


</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">
    <hr/>
<!--     <h2 class="footer-heading">Bryan Lawrence</h2> -->

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><strong>Bryan Lawrence</strong></li>
		  <li>Professor of Weather and Climate Computing</li>
          <li><a href="mailto:b.n.lawrence@reading.ac.uk">b.n.lawrence@reading.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">

          
          <li>
              <a href="https://github.com/bnlawrence">
              <i class="fa fa-github" style="color:gray"></i> bnlawrence
             </a>
          </li>
          

          
          <li>
             <a href="https://twitter.com/bnlawrence">
             <i class="fa fa-twitter" style="color:gray"></i> bnlawrence
             </a>
          </li>
          

        </ul>
      </div>

      <div class="footer-col  footer-col-3">
         <p class="text">
	     This is a personal site. Caveat Lector. Nothing written here reflects an official opinion of my employer or any funding agency. Laboris locatores analogum obsecro respice auferetur. (My daughter is learning Latin, unlike me, who never did!)

      </div>
    </div>
    <!--
    <hr/>
    <p class="text"> This is a personal site. Caveat Lector. Nothing written here reflects an official opinion of my employer or any funding agency. Laboris locatores analogum obsecro respice auferetur. (My daughter is learning Latin, unlike me, who never did!)
 </p>
    -->

  </div>

</footer>

    
  </body>


</html>
<!-- d.050600.062508.030515.080516 | "Baby, I'm Yours" -->
